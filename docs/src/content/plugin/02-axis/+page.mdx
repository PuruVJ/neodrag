---
title: 'axis'
tagline: 'Restrict movement to a single axis (x or y)'
---

import FrameworkSwitch from '$components/FrameworkSwitch.astro';

## What it does

The `axis` plugin locks movement to either horizontal (`x`) or vertical (`y`) direction. Perfect for sliders, scrollbars, or any UI where you need one-dimensional dragging.

```typescript
axis('x'); // Only horizontal movement
axis('y'); // Only vertical movement
axis(null); // Free movement (same as no axis plugin)
```

## Basic Usage

<FrameworkSwitch>
<div slot="svelte">

```svelte
<script>
  import { axis } from '@neodrag/svelte';
</script>

<!-- Horizontal slider -->
<div {@attach draggable([axis('x')])}>Drag me left/right only</div>

<!-- Vertical slider -->
<div {@attach draggable([axis('y')])}>Drag me up/down only</div>
```

</div>

<div slot="react">

```tsx
import { useRef } from 'react';
import { axis, useDraggable } from '@neodrag/react';

function Sliders() {
  const horizontalRef = useRef<HTMLDivElement>(null);
  const verticalRef = useRef<HTMLDivElement>(null);

  useDraggable(horizontalRef, [axis('x')]);
  useDraggable(verticalRef, [axis('y')]);

  return (
    <div>
      <div ref={horizontalRef}>Drag me left/right only</div>
      <div ref={verticalRef}>Drag me up/down only</div>
    </div>
  );
}
```

</div>

<div slot="vue">

```vue
<script setup>
import { axis, vDraggable } from '@neodrag/vue';
</script>

<template>
  <div>
    <div v-draggable="[axis('x')]">Drag me left/right only</div>
    <div v-draggable="[axis('y')]">Drag me up/down only</div>
  </div>
</template>
```

</div>

<div slot="solid">

```tsx
import { createSignal } from 'solid-js';
import { axis, useDraggable } from '@neodrag/solid';

function Sliders() {
  const [horizontal, setHorizontal] = createSignal<HTMLDivElement>();
  const [vertical, setVertical] = createSignal<HTMLDivElement>();

  useDraggable(horizontal, [axis('x')]);
  useDraggable(vertical, [axis('y')]);

  return (
    <div>
      <div ref={setHorizontal}>Drag me left/right only</div>
      <div ref={setVertical}>Drag me up/down only</div>
    </div>
  );
}
```

</div>

<div slot="vanilla">

```typescript
import { axis, Draggable } from '@neodrag/vanilla';

const horizontal = document.getElementById('horizontal');
const vertical = document.getElementById('vertical');

new Draggable(horizontal, [axis('x')]);
new Draggable(vertical, [axis('y')]);
```

</div>
</FrameworkSwitch>

## Dynamic Switching

Change the axis while dragging using compartments:

<FrameworkSwitch>
<div slot="svelte">

```svelte
<script>
  import { axis, Compartment } from '@neodrag/svelte';

  let direction = $state('x');
  const axisComp = Compartment.of(() => axis(direction));
</script>

<div {@attach draggable(() => [axisComp])}>
  Current: {direction}-axis
</div>

<button onclick={() => (direction = direction === 'x' ? 'y' : 'x')}>
  Switch to {direction === 'x' ? 'Y' : 'X'} axis
</button>
```

</div>

<div slot="react">

```tsx
import { useRef, useState } from 'react';
import { axis, useDraggable, useCompartment } from '@neodrag/react';

function DynamicAxis() {
  const ref = useRef<HTMLDivElement>(null);
  const [direction, setDirection] = useState('x');

  const axisComp = useCompartment(() => axis(direction), [direction]);

  useDraggable(ref, () => [axisComp]);

  return (
    <div>
      <div ref={ref}>Current: {direction}-axis</div>
      <button
        onClick={() => setDirection(direction === 'x' ? 'y' : 'x')}
      >
        Switch to {direction === 'x' ? 'Y' : 'X'} axis
      </button>
    </div>
  );
}
```

</div>

<div slot="vue">

```vue
<script setup>
import { ref } from 'vue';
import { axis, vDraggable, useCompartment } from '@neodrag/vue';

const direction = ref('x');
const axisComp = useCompartment(() => axis(direction.value));

const plugins = () => [axisComp];

function toggle() {
  direction.value = direction.value === 'x' ? 'y' : 'x';
}
</script>

<template>
  <div>
    <div v-draggable="plugins">Current: {{ direction }}-axis</div>
    <button @click="toggle">
      Switch to {{ direction === 'x' ? 'Y' : 'X' }} axis
    </button>
  </div>
</template>
```

</div>

<div slot="solid">

```tsx
import { createSignal } from 'solid-js';
import {
  axis,
  useDraggable,
  createCompartment,
} from '@neodrag/solid';

function DynamicAxis() {
  const [element, setElement] = createSignal<HTMLDivElement>();
  const [direction, setDirection] = createSignal('x');

  const axisComp = createCompartment(() => axis(direction()));

  useDraggable(element, [axisComp]);

  return (
    <div>
      <div ref={setElement}>Current: {direction()}-axis</div>
      <button
        onClick={() => setDirection(direction() === 'x' ? 'y' : 'x')}
      >
        Switch to {direction() === 'x' ? 'Y' : 'X'} axis
      </button>
    </div>
  );
}
```

</div>

<div slot="vanilla">

```typescript
import { axis, Compartment, Draggable } from '@neodrag/vanilla';

let direction = 'x';
const axisComp = new Compartment(() => axis(direction));

const element = document.getElementById('element');
new Draggable(element, () => [axisComp]);

document.getElementById('toggle').addEventListener('click', () => {
  direction = direction === 'x' ? 'y' : 'x';
  axisComp.current = axis(direction);
});
```

</div>
</FrameworkSwitch>

## Combining with Other Plugins

### With Grid Snapping

```typescript
// Horizontal movement that snaps to 20px intervals
const plugins = [
  axis('x'),
  grid([20, 20]), // Only X grid applies
];
```

### With Bounds

```typescript
// Vertical slider constrained to parent
const plugins = [axis('y'), bounds(BoundsFrom.parent())];
```

### Plugin Order Matters

```typescript
// Correct: Apply axis constraint first
const plugins = [
  axis('x'), // Constrains movement
  grid([10, 10]), // Then applies grid
];
```

## Common Use Cases

### Range Slider

<FrameworkSwitch>
<div slot="svelte">

```svelte
<script>
  import { axis, bounds, BoundsFrom, events } from '@neodrag/svelte';

  let value = $state(50);
  let trackRef = $state();

  function handleDrag(data) {
    if (trackRef) {
      const trackWidth = trackRef.offsetWidth;
      value = Math.round((data.offset.x / trackWidth) * 100);
    }
  }
</script>

<div class="track" bind:this={trackRef}>
  <div
    {@attach draggable([
      axis('x'),
      bounds(BoundsFrom.element(trackRef)),
      events({ onDrag: handleDrag }),
    ])}
    class="handle"
  />
</div>

<p>Value: {value}%</p>

<style>
  .track {
    width: 200px;
    height: 20px;
    background: #ddd;
    position: relative;
  }

  .handle {
    width: 20px;
    height: 20px;
    background: #007bff;
    border-radius: 50%;
    cursor: grab;
  }
</style>
```

</div>

<div slot="react">

```tsx
import { useRef, useState, useCallback } from 'react';
import {
  axis,
  bounds,
  BoundsFrom,
  events,
  useDraggable,
} from '@neodrag/react';

function RangeSlider() {
  const trackRef = useRef<HTMLDivElement>(null);
  const handleRef = useRef<HTMLDivElement>(null);
  const [value, setValue] = useState(50);

  const handleDrag = useCallback((data) => {
    if (trackRef.current) {
      const trackWidth = trackRef.current.offsetWidth;
      setValue(Math.round((data.offset.x / trackWidth) * 100));
    }
  }, []);

  useDraggable(handleRef, [
    axis('x'),
    bounds(BoundsFrom.element(trackRef.current)),
    events({ onDrag: handleDrag }),
  ]);

  return (
    <div>
      <div ref={trackRef} className="track">
        <div ref={handleRef} className="handle" />
      </div>
      <p>Value: {value}%</p>
    </div>
  );
}
```

</div>

<div slot="vue">

```vue
<script setup>
import { ref } from 'vue';
import {
  axis,
  bounds,
  BoundsFrom,
  events,
  vDraggable,
} from '@neodrag/vue';

const trackRef = ref();
const value = ref(50);

function handleDrag(data) {
  if (trackRef.value) {
    const trackWidth = trackRef.value.offsetWidth;
    value.value = Math.round((data.offset.x / trackWidth) * 100);
  }
}

const plugins = [
  axis('x'),
  bounds(() => BoundsFrom.element(trackRef.value)),
  events({ onDrag: handleDrag }),
];
</script>

<template>
  <div>
    <div ref="trackRef" class="track">
      <div v-draggable="plugins" class="handle" />
    </div>
    <p>Value: {{ value }}%</p>
  </div>
</template>
```

</div>

<div slot="solid">

```tsx
import { createSignal } from 'solid-js';
import {
  axis,
  bounds,
  BoundsFrom,
  events,
  useDraggable,
} from '@neodrag/solid';

function RangeSlider() {
  const [track, setTrack] = createSignal<HTMLDivElement>();
  const [handle, setHandle] = createSignal<HTMLDivElement>();
  const [value, setValue] = createSignal(50);

  const handleDrag = (data) => {
    const trackEl = track();
    if (trackEl) {
      const trackWidth = trackEl.offsetWidth;
      setValue(Math.round((data.offset.x / trackWidth) * 100));
    }
  };

  useDraggable(handle, [
    axis('x'),
    bounds(() => BoundsFrom.element(track())),
    events({ onDrag: handleDrag }),
  ]);

  return (
    <div>
      <div ref={setTrack} class="track">
        <div ref={setHandle} class="handle" />
      </div>
      <p>Value: {value()}%</p>
    </div>
  );
}
```

</div>

<div slot="vanilla">

```typescript
import {
  axis,
  bounds,
  BoundsFrom,
  events,
  Draggable,
} from '@neodrag/vanilla';

const track = document.getElementById('track');
const handle = document.getElementById('handle');
const valueDisplay = document.getElementById('value');

function handleDrag(data) {
  const trackWidth = track.offsetWidth;
  const value = Math.round((data.offset.x / trackWidth) * 100);
  valueDisplay.textContent = `${value}%`;
}

new Draggable(handle, [
  axis('x'),
  bounds(BoundsFrom.element(track)),
  events({ onDrag: handleDrag }),
]);
```

</div>
</FrameworkSwitch>

### Split Pane Resizer

```typescript
// Vertical divider for horizontal split
const plugins = [
  axis('x'),
  bounds(
    BoundsFrom.parent({
      left: 100, // Min pane width
      right: 100, // Min pane width
    }),
  ),
];
```

## How It Works

The axis plugin modifies the `proposed` movement during dragging:

- **`axis('x')`**: Sets `proposed.y = null` (no vertical movement)
- **`axis('y')`**: Sets `proposed.x = null` (no horizontal movement)
- **`axis(null)`**: No changes (free movement)

This happens in the plugin's `drag` hook, so other plugins receive the constrained movement values.

## API Reference

```typescript
function axis(value?: 'x' | 'y' | null | undefined): Plugin;
```

**Parameters:**

- `value` - The axis to constrain movement to
  - `'x'` - Horizontal only
  - `'y'` - Vertical only
  - `null` or `undefined` - No constraint

**Returns:** A plugin object for use with draggable.
